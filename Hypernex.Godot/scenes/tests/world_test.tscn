[gd_scene load_steps=12 format=3 uid="uid://blqal6vcg8rus"]

[ext_resource type="Script" path="res://scripts/game/tests/WorldTest.cs" id="1_hscsn"]
[ext_resource type="Material" uid="uid://foarkyosj826" path="res://scenes/tests/world_test.tres" id="2_5nyuk"]
[ext_resource type="AudioStream" uid="uid://ll5phgir3b0n" path="res://scenes/tests/Unity_Kevin_MacLeod.mp3" id="2_kj8dh"]
[ext_resource type="Script" path="res://addons/cck/classes/WorldDescriptor.cs" id="3_73irx"]
[ext_resource type="ArrayMesh" uid="uid://8fh43rn8e82k" path="res://models/plane.obj" id="3_j1wr1"]
[ext_resource type="Script" path="res://addons/cck/classes/WorldScript.cs" id="5_oulgq"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_sxber"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_33wh5"]
sky_material = SubResource("ProceduralSkyMaterial_sxber")

[sub_resource type="Environment" id="Environment_4365i"]
background_mode = 2
sky = SubResource("Sky_33wh5")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_1l7cg"]
data = PackedVector3Array(1, 0, 1, -1, 0, 1, 1, 0, -1, 1, 0, -1, -1, 0, 1, -1, 0, -1)

[sub_resource type="GDScript" id="GDScript_a2ttp"]
resource_name = "Test"
script/source = "extends Node

static func _static_init():
	print(\"hacked smh\")
"

[node name="WorldTest" type="Node"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4365i")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="Test" type="Node" parent="."]
script = ExtResource("1_hscsn")
save = true
load = true

[node name="World" type="Node3D" parent="Test"]

[node name="WorldMesh" type="MeshInstance3D" parent="Test/World"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0, 0)
material_override = ExtResource("2_5nyuk")
mesh = ExtResource("3_j1wr1")

[node name="StaticBody3D" type="StaticBody3D" parent="Test/World/WorldMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Test/World/WorldMesh/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_1l7cg")

[node name="WorldDescriptor" type="Node3D" parent="Test/World"]
script = ExtResource("3_73irx")
StartPosition = Vector3(0, 10, 0)

[node name="Node" type="Node" parent="Test/World/WorldDescriptor"]
script = SubResource("GDScript_a2ttp")
metadata/script = "test"

[node name="Label3D" type="Label3D" parent="Test/World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)
text = "HIIIII"

[node name="Clock" type="Node" parent="Test/World/Label3D"]
script = ExtResource("5_oulgq")
Language = 1
Contents = "function settime()
	local t = Time();
	local hr = t.GetHours() % 12;
	if hr == 0 then
		hr = 12;
	end
	UI.SetText(item, hr .. \":\" .. t.GetMinutes() .. \" \" .. t.GetAMPM());
end

Runtime.OnFixedUpdate(SandboxFunc().SetAction(settime));"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Test"]
stream = ExtResource("2_kj8dh")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 3)
